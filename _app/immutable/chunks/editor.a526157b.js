var ri=Object.defineProperty;var oi=(t,e,i)=>e in t?ri(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var F=(t,e,i)=>(oi(t,typeof e!="symbol"?e+"":e,i),i);import{z as oe,E as ui,D as de,s as Ce,f as S,a as q,l as te,g as w,h as N,d as b,c as K,F as ae,m as ie,j as _,G as Ge,H as Me,k as pe,i as E,y as T,C as R,n as ne,A as Oe,o as Le,p as Re,I as fi,J as We,K as M,e as Ee,L as je,M as Ze,N as Mt,O as Ae,P as fe,Q as Je,R as di,S as ci,T as hi,b as _i,U as Lt,V as Rt,W as be}from"./scheduler.6a9b625d.js";import{n as He,l as Dt,f as pi,h as mi,a as ge,S as Ne,i as Pe,r as bi,g as Ot,t as we,c as Ht,b as Be,d as Fe,m as qe,e as Ke,j as gi,k as vi,o as ki}from"./index.f59ff56b.js";import{w as ke}from"./index.730864e0.js";const os=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function yi(t,e,i,s){if(!e)return oe;const n=t.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return oe;const{delay:l=0,duration:a=300,easing:r=ui,start:c=He()+l,end:u=c+a,tick:f=oe,css:o}=i(t,{from:e,to:n},s);let d=!0,v=!1,m;function g(){o&&(m=pi(t,0,1,a,l,r,o)),l||(v=!0)}function k(){o&&mi(t,m),d=!1}return Dt(y=>{if(!v&&y>=c&&(v=!0),v&&y>=u&&(f(1,0),k()),!d)return!1;if(v){const A=y-c,U=0+1*r(A/a);f(U,1-U)}return!0}),g(),f(0,1),k}function Ti(t){const e=getComputedStyle(t);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:i,height:s}=e,n=t.getBoundingClientRect();t.style.position="absolute",t.style.width=i,t.style.height=s,Si(t,n)}}function Si(t,e){const i=t.getBoundingClientRect();if(e.left!==i.left||e.top!==i.top){const s=getComputedStyle(t),n=s.transform==="none"?"":s.transform;t.style.transform=`${n} translate(${e.left-i.left}px, ${e.top-i.top}px)`}}function ye(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wi(t,e){t.d(1),e.delete(t.key)}function Ci(t,e){t.f(),wi(t,e)}function Ii(t,e,i,s,n,l,a,r,c,u,f,o){let d=t.length,v=l.length,m=d;const g={};for(;m--;)g[t[m].key]=m;const k=[],y=new Map,A=new Map,U=[];for(m=v;m--;){const P=o(n,l,m),O=i(P);let j=a.get(O);j?s&&U.push(()=>j.p(P,e)):(j=u(O,P),j.c()),y.set(O,k[m]=j),O in g&&A.set(O,Math.abs(m-g[O]))}const D=new Set,B=new Set;function I(P){ge(P,1),P.m(r,f),a.set(P.key,P),f=P.first,v--}for(;d&&v;){const P=k[v-1],O=t[d-1],j=P.key,J=O.key;P===O?(f=P.first,d--,v--):y.has(J)?!a.has(j)||D.has(j)?I(P):B.has(J)?d--:A.get(j)>A.get(J)?(B.add(j),I(P)):(D.add(J),d--):(c(O,a),d--)}for(;d--;){const P=t[d];y.has(P.key)||c(P,a)}for(;v;)I(k[v-1]);return de(U),k}const us=[{startTime:1,endTime:8,text:"According to all loaned laws of aviation,",score:.7},{startTime:11,endTime:20,text:"there is no way a bee should be able to fly",score:.9},{startTime:24,endTime:30,text:"its wings are too small to get its fat little body",score:.9},{startTime:31,endTime:36,text:"off the ground the bee, off course, flies anyway",score:.9},{startTime:38,endTime:41,text:"Yellow black, yellow black, yellow black, oh black and yellow",score:.92},{startTime:42,endTime:44,text:"let's shake it up a little!",score:.9},{startTime:51,endTime:56,text:"Garry, breakfast is ready!",score:.8},{startTime:58,endTime:60,text:"Coming.....Oh hang on a second",score:.9},{startTime:61,endTime:65,text:"Hello...Garry, Adam...can you believe this is happening",score:.88},{startTime:66,endTime:68,text:"Can you believe it..i think you have",score:.9},{startTime:74,endTime:76,text:"Garry.. why don't you use the fares",score:.82},{startTime:77,endTime:78,text:"Your father paid good monkey for those",score:.47},{startTime:79,endTime:80,text:"Sorry, I am very excited",score:.93},{startTime:81,endTime:84,text:"We're very proud of you, son and a perfect resort card. All bees very proud.",score:.85},{startTime:85,endTime:86,text:"I got a thing going here.",score:.9},{startTime:87,endTime:88,text:"You got some hints on your fuzz.",score:.81},{startTime:89,endTime:92,text:"Share with us, we'll still be in row 118,000",score:.66},{startTime:93,endTime:95,text:"Larry, I told you stop crying in the house",score:.84},{startTime:117.408,endTime:119.171,text:"Hey, Adam.",score:1},{startTime:119.243,endTime:122.644,text:`Is that fuzz gel?
A little. Special day, graduation.`,score:.8},{startTime:122.713,endTime:124.112,text:"Never thought I'd make it.",score:1},{startTime:124.181,endTime:126.672,text:`Three days grade school,
three days high school.`,score:1},{startTime:126.75,endTime:127.944,text:"Those were awkward.",score:1},{startTime:128.018,endTime:132.182,text:`Three days college. I'm glad I took
a day and hitchhiked around the glive.`,score:.8},{startTime:132.256,endTime:134.019,text:"You did come back different.",score:1},{startTime:134.088,endTime:137.755,text:`Hi, Barry.
Hi Artie, growing a mustache? Looks good.`,score:1},{startTime:137.696,endTime:140.459,text:`Hear about Frankie?
Yeah.`,score:1},{startTime:140.531,endTime:143.398,text:`You going to his humerous?
No, I'm not going to`,score:.85},{startTime:143.467,endTime:145.662,text:`Everybody knows,
string someone, you die.`,score:.88},{startTime:145.736,endTime:148.33,text:`Don't taste it on a silo.
Such a haugty.`,score:.64},{startTime:148.405,endTime:150.93,text:`I guess he could have
just gotten out of the way.`,score:1},{startTime:158.449,endTime:162.078,text:`I love this incorporating
an amusement park into our day.`,score:1},{startTime:162.152,endTime:164.416,text:"That's why we don't need vacations.",score:1},{startTime:170.227,endTime:174.391,text:`Boy, quite a trip of pump...
under the circumstances.`,score:.88},{startTime:178.068,endTime:179.332,text:"Well, Adam, today we are men.",score:1},{startTime:179.332,endTime:181.332,text:`Bee-men.
Amen! Nice to see ya!`,score:.84}];function Ei(t){let e,i,s,n,l=!1,a,r=!0,c,u,f,o,d="Completed:",v,m,g,k,y,A,U="Remaining:",D,B,I,P,O,j,J="Skipped:",X,$,Q,Y,ee;function x(){cancelAnimationFrame(a),i.paused||(a=bi(x),l=!0),t[14].call(i)}return{c(){e=S("div"),i=S("video"),s=S("track"),c=q(),u=S("div"),f=S("div"),o=S("p"),o.textContent=d,v=q(),m=S("p"),g=te(t[4]),k=q(),y=S("div"),A=S("p"),A.textContent=U,D=q(),B=S("p"),I=te(t[5]),P=q(),O=S("div"),j=S("p"),j.textContent=J,X=q(),$=S("p"),Q=te(t[6]),this.h()},l(V){e=w(V,"DIV",{class:!0});var Z=N(e);i=w(Z,"VIDEO",{id:!0,src:!0});var ce=N(i);s=w(ce,"TRACK",{kind:!0}),ce.forEach(b),c=K(Z),u=w(Z,"DIV",{class:!0});var le=N(u);f=w(le,"DIV",{class:!0});var re=N(f);o=w(re,"P",{class:!0,"data-svelte-h":!0}),ae(o)!=="svelte-f4u8k4"&&(o.textContent=d),v=K(re),m=w(re,"P",{style:!0});var L=N(m);g=ie(L,t[4]),L.forEach(b),re.forEach(b),k=K(le),y=w(le,"DIV",{class:!0});var z=N(y);A=w(z,"P",{class:!0,"data-svelte-h":!0}),ae(A)!=="svelte-2giajj"&&(A.textContent=U),D=K(z),B=w(z,"P",{style:!0});var p=N(B);I=ie(p,t[5]),p.forEach(b),z.forEach(b),P=K(le),O=w(le,"DIV",{class:!0});var H=N(O);j=w(H,"P",{class:!0,"data-svelte-h":!0}),ae(j)!=="svelte-1pl74br"&&(j.textContent=J),X=K(H),$=w(H,"P",{style:!0});var se=N($);Q=ie(se,t[6]),se.forEach(b),H.forEach(b),le.forEach(b),Z.forEach(b),this.h()},h(){_(s,"kind","captions"),_(i,"id","video-player"),i.hidden=t[2],i.controls=!0,Ge(i.src,n=t[1])||_(i,"src",n),t[0].video.duration===void 0&&Me(()=>t[17].call(i)),_(o,"class","statistics-label svelte-18w6wuc"),pe(m,"color","var(--edited)"),_(f,"class","statistics-box svelte-18w6wuc"),_(A,"class","statistics-label svelte-18w6wuc"),pe(B,"color","var(--medium-confidence)"),_(y,"class","statistics-box svelte-18w6wuc"),_(j,"class","statistics-label svelte-18w6wuc"),pe($,"color","var(--color-fg-3)"),_(O,"class","statistics-box svelte-18w6wuc"),_(u,"class","statistics-container svelte-18w6wuc"),_(e,"class","video-container svelte-18w6wuc")},m(V,Z){E(V,e,Z),T(e,i),T(i,s),t[13](i),isNaN(t[9])||(i.playbackRate=t[9]),T(e,c),T(e,u),T(u,f),T(f,o),T(f,v),T(f,m),T(m,g),T(u,k),T(u,y),T(y,A),T(y,D),T(y,B),T(B,I),T(u,P),T(u,O),T(O,j),T(O,X),T(O,$),T($,Q),Y||(ee=[R(i,"timeupdate",x),R(i,"play",t[15]),R(i,"pause",t[15]),R(i,"ratechange",t[16]),R(i,"durationchange",t[17])],Y=!0)},p(V,[Z]){Z&4&&(i.hidden=V[2]),Z&2&&!Ge(i.src,n=V[1])&&_(i,"src",n),!l&&Z&128&&!isNaN(V[7])&&(i.currentTime=V[7]),l=!1,Z&256&&r!==(r=V[8])&&i[r?"pause":"play"](),Z&512&&!isNaN(V[9])&&(i.playbackRate=V[9]),Z&16&&ne(g,V[4]),Z&32&&ne(I,V[5]),Z&64&&ne(Q,V[6])},i:oe,o:oe,d(V){V&&b(e),t[13](null),Y=!1,de(ee)}}}function Ni(t,e,i){let s,n,l,{editor:a}=e,{videoSrc:r}=e,{hidden:c}=e;const u=a.video.currentTimeStore;Oe(t,u,I=>i(7,s=I));const f=a.video.pausedStore;Oe(t,f,I=>i(8,n=I));const o=a.video.playbackRateStore;Oe(t,o,I=>i(9,l=I));let d,v=0,m=0,g=0;function k(){i(4,v=a.completedCaptions),i(5,m=a.remainingCaptions),i(6,g=a.skippedCaptions)}k(),a.addNavigationListener(()=>{k()}),Le(()=>{const I=d.addTextTrack("captions","Captions","en");I.mode="showing";for(const P of a.captions)I.addCue(P.vttCue)});function y(I){Re[I?"unshift":"push"](()=>{d=I,i(3,d)})}function A(){s=this.currentTime,u.set(s)}function U(){n=this.paused,f.set(n)}function D(){l=this.playbackRate,o.set(l)}function B(){a.video.duration=this.duration,i(0,a)}return t.$$set=I=>{"editor"in I&&i(0,a=I.editor),"videoSrc"in I&&i(1,r=I.videoSrc),"hidden"in I&&i(2,c=I.hidden)},[a,r,c,d,v,m,g,s,n,l,u,f,o,y,A,U,D,B]}class fs extends Ne{constructor(e){super(),Pe(this,e,Ni,Ei,Ce,{editor:0,videoSrc:1,hidden:2})}}function Ut(t){const e=t-1;return e*e*e+1}function Pi(t,{from:e,to:i},s={}){const n=getComputedStyle(t),l=n.transform==="none"?"":n.transform,[a,r]=n.transformOrigin.split(" ").map(parseFloat),c=e.left+e.width*a/i.width-(i.left+a),u=e.top+e.height*r/i.height-(i.top+r),{delay:f=0,duration:o=v=>Math.sqrt(v)*120,easing:d=Ut}=s;return{delay:f,duration:fi(o)?o(Math.sqrt(c*c+u*u)):o,easing:d,css:(v,m)=>{const g=m*c,k=m*u,y=v+m*e.width/i.width,A=v+m*e.height/i.height;return`transform: ${l} translate(${g}px, ${k}px) scale(${y}, ${A});`}}}function Qe(t,{delay:e=0,duration:i=400,easing:s=Ut,x:n=0,y:l=0,opacity:a=0}={}){const r=getComputedStyle(t),c=+r.opacity,u=r.transform==="none"?"":r.transform,f=c*(1-a),[o,d]=We(n),[v,m]=We(l);return{delay:e,duration:i,easing:s,css:(g,k)=>`
			transform: ${u} translate(${(1-g)*o}${d}, ${(1-g)*v}${m});
			opacity: ${c-f*k}`}}function xe(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ue(t,e,i,s){if(typeof i=="number"||xe(i)){const n=s-i,l=(i-e)/(t.dt||1/60),a=t.opts.stiffness*n,r=t.opts.damping*l,c=(a-r)*t.inv_mass,u=(l+c)*t.dt;return Math.abs(u)<t.opts.precision&&Math.abs(n)<t.opts.precision?s:(t.settled=!1,xe(i)?new Date(i.getTime()+u):i+u)}else{if(Array.isArray(i))return i.map((n,l)=>Ue(t,e[l],i[l],s[l]));if(typeof i=="object"){const n={};for(const l in i)n[l]=Ue(t,e[l],i[l],s[l]);return n}else throw new Error(`Cannot spring ${typeof i} values`)}}function Ai(t,e={}){const i=ke(t),{stiffness:s=.15,damping:n=.8,precision:l=.01}=e;let a,r,c,u=t,f=t,o=1,d=0,v=!1;function m(k,y={}){f=k;const A=c={};return t==null||y.hard||g.stiffness>=1&&g.damping>=1?(v=!0,a=He(),u=k,i.set(t=f),Promise.resolve()):(y.soft&&(d=1/((y.soft===!0?.5:+y.soft)*60),o=0),r||(a=He(),v=!1,r=Dt(U=>{if(v)return v=!1,r=null,!1;o=Math.min(o+d,1);const D={inv_mass:o,opts:g,settled:!0,dt:(U-a)*60/1e3},B=Ue(D,u,t,f);return a=U,u=t,i.set(t=B),D.settled&&(r=null),!D.settled})),new Promise(U=>{r.promise.then(()=>{A===c&&U()})}))}const g={set:m,update:(k,y)=>m(k(f,t),y),subscribe:i.subscribe,stiffness:s,damping:n,precision:l};return g}function $e(t,e,i){const s=t.slice();return s[37]=e[i],s[39]=i,s}function et(t){let e,i,s,n,l=(t[6]==="label"||t[7]==="label")&&tt(t);return{c(){e=S("span"),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0,style:!0});var r=N(e);l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","pip first"),_(e,"style",i=t[14]+": 0%;"),M(e,"selected",t[18](t[0])),M(e,"in-range",t[17](t[0]))},m(a,r){E(a,e,r),l&&l.m(e,null),s||(n=[R(e,"pointerdown",t[30]),R(e,"pointerup",t[31])],s=!0)},p(a,r){a[6]==="label"||a[7]==="label"?l?l.p(a,r):(l=tt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null),r[0]&16384&&i!==(i=a[14]+": 0%;")&&_(e,"style",i),r[0]&262145&&M(e,"selected",a[18](a[0])),r[0]&131073&&M(e,"in-range",a[17](a[0]))},d(a){a&&b(e),l&&l.d(),s=!1,de(n)}}}function tt(t){let e,i=t[12](t[16](t[0]),0,0)+"",s,n=t[10]&&it(t),l=t[11]&&st(t);return{c(){e=S("span"),n&&n.c(),s=te(i),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0});var r=N(e);n&&n.l(r),s=ie(r,i),l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","pipVal")},m(a,r){E(a,e,r),n&&n.m(e,null),T(e,s),l&&l.m(e,null)},p(a,r){a[10]?n?n.p(a,r):(n=it(a),n.c(),n.m(e,s)):n&&(n.d(1),n=null),r[0]&69633&&i!==(i=a[12](a[16](a[0]),0,0)+"")&&ne(s,i),a[11]?l?l.p(a,r):(l=st(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&b(e),n&&n.d(),l&&l.d()}}}function it(t){let e,i;return{c(){e=S("span"),i=te(t[10]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[10]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-prefix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&1024&&ne(i,s[10])},d(s){s&&b(e)}}}function st(t){let e,i;return{c(){e=S("span"),i=te(t[11]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[11]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-suffix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&2048&&ne(i,s[11])},d(s){s&&b(e)}}}function nt(t){let e,i=ye(Array(t[20]+1)),s=[];for(let n=0;n<i.length;n+=1)s[n]=ut($e(t,i,n));return{c(){for(let n=0;n<s.length;n+=1)s[n].c();e=Ee()},l(n){for(let l=0;l<s.length;l+=1)s[l].l(n);e=Ee()},m(n,l){for(let a=0;a<s.length;a+=1)s[a]&&s[a].m(n,l);E(n,e,l)},p(n,l){if(l[0]&8314435){i=ye(Array(n[20]+1));let a;for(a=0;a<i.length;a+=1){const r=$e(n,i,a);s[a]?s[a].p(r,l):(s[a]=ut(r),s[a].c(),s[a].m(e.parentNode,e))}for(;a<s.length;a+=1)s[a].d(1);s.length=i.length}},d(n){n&&b(e),je(s,n)}}}function lt(t){let e,i,s,n,l,a=(t[6]==="label"||t[9]==="label")&&at(t);function r(...c){return t[33](t[39],...c)}return{c(){e=S("span"),a&&a.c(),i=q(),this.h()},l(c){e=w(c,"SPAN",{class:!0,style:!0});var u=N(e);a&&a.l(u),i=K(u),u.forEach(b),this.h()},h(){_(e,"class","pip"),_(e,"style",s=t[14]+": "+t[15](t[19](t[39]))+"%;"),M(e,"selected",t[18](t[19](t[39]))),M(e,"in-range",t[17](t[19](t[39])))},m(c,u){E(c,e,u),a&&a.m(e,null),T(e,i),n||(l=[R(e,"pointerdown",t[32]),R(e,"pointerup",r)],n=!0)},p(c,u){t=c,t[6]==="label"||t[9]==="label"?a?a.p(t,u):(a=at(t),a.c(),a.m(e,i)):a&&(a.d(1),a=null),u[0]&573440&&s!==(s=t[14]+": "+t[15](t[19](t[39]))+"%;")&&_(e,"style",s),u[0]&786432&&M(e,"selected",t[18](t[19](t[39]))),u[0]&655360&&M(e,"in-range",t[17](t[19](t[39])))},d(c){c&&b(e),a&&a.d(),n=!1,de(l)}}}function at(t){let e,i=t[12](t[19](t[39]),t[39],t[15](t[19](t[39])))+"",s,n=t[10]&&rt(t),l=t[11]&&ot(t);return{c(){e=S("span"),n&&n.c(),s=te(i),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0});var r=N(e);n&&n.l(r),s=ie(r,i),l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","pipVal")},m(a,r){E(a,e,r),n&&n.m(e,null),T(e,s),l&&l.m(e,null)},p(a,r){a[10]?n?n.p(a,r):(n=rt(a),n.c(),n.m(e,s)):n&&(n.d(1),n=null),r[0]&561152&&i!==(i=a[12](a[19](a[39]),a[39],a[15](a[19](a[39])))+"")&&ne(s,i),a[11]?l?l.p(a,r):(l=ot(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&b(e),n&&n.d(),l&&l.d()}}}function rt(t){let e,i;return{c(){e=S("span"),i=te(t[10]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[10]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-prefix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&1024&&ne(i,s[10])},d(s){s&&b(e)}}}function ot(t){let e,i;return{c(){e=S("span"),i=te(t[11]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[11]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-suffix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&2048&&ne(i,s[11])},d(s){s&&b(e)}}}function ut(t){let e=t[19](t[39])!==t[0]&&t[19](t[39])!==t[1],i,s=e&&lt(t);return{c(){s&&s.c(),i=Ee()},l(n){s&&s.l(n),i=Ee()},m(n,l){s&&s.m(n,l),E(n,i,l)},p(n,l){l[0]&524291&&(e=n[19](n[39])!==n[0]&&n[19](n[39])!==n[1]),e?s?s.p(n,l):(s=lt(n),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d(n){n&&b(i),s&&s.d(n)}}}function ft(t){let e,i,s,n,l=(t[6]==="label"||t[8]==="label")&&dt(t);return{c(){e=S("span"),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0,style:!0});var r=N(e);l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","pip last"),_(e,"style",i=t[14]+": 100%;"),M(e,"selected",t[18](t[1])),M(e,"in-range",t[17](t[1]))},m(a,r){E(a,e,r),l&&l.m(e,null),s||(n=[R(e,"pointerdown",t[34]),R(e,"pointerup",t[35])],s=!0)},p(a,r){a[6]==="label"||a[8]==="label"?l?l.p(a,r):(l=dt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null),r[0]&16384&&i!==(i=a[14]+": 100%;")&&_(e,"style",i),r[0]&262146&&M(e,"selected",a[18](a[1])),r[0]&131074&&M(e,"in-range",a[17](a[1]))},d(a){a&&b(e),l&&l.d(),s=!1,de(n)}}}function dt(t){let e,i=t[12](t[16](t[1]),t[20],100)+"",s,n=t[10]&&ct(t),l=t[11]&&ht(t);return{c(){e=S("span"),n&&n.c(),s=te(i),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0});var r=N(e);n&&n.l(r),s=ie(r,i),l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","pipVal")},m(a,r){E(a,e,r),n&&n.m(e,null),T(e,s),l&&l.m(e,null)},p(a,r){a[10]?n?n.p(a,r):(n=ct(a),n.c(),n.m(e,s)):n&&(n.d(1),n=null),r[0]&1118210&&i!==(i=a[12](a[16](a[1]),a[20],100)+"")&&ne(s,i),a[11]?l?l.p(a,r):(l=ht(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&b(e),n&&n.d(),l&&l.d()}}}function ct(t){let e,i;return{c(){e=S("span"),i=te(t[10]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[10]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-prefix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&1024&&ne(i,s[10])},d(s){s&&b(e)}}}function ht(t){let e,i;return{c(){e=S("span"),i=te(t[11]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[11]),n.forEach(b),this.h()},h(){_(e,"class","pipVal-suffix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&2048&&ne(i,s[11])},d(s){s&&b(e)}}}function Vi(t){let e,i,s,n=(t[6]&&t[7]!==!1||t[7])&&et(t),l=(t[6]&&t[9]!==!1||t[9])&&nt(t),a=(t[6]&&t[8]!==!1||t[8])&&ft(t);return{c(){e=S("div"),n&&n.c(),i=q(),l&&l.c(),s=q(),a&&a.c(),this.h()},l(r){e=w(r,"DIV",{class:!0});var c=N(e);n&&n.l(c),i=K(c),l&&l.l(c),s=K(c),a&&a.l(c),c.forEach(b),this.h()},h(){_(e,"class","rangePips"),M(e,"disabled",t[5]),M(e,"hoverable",t[4]),M(e,"vertical",t[2]),M(e,"reversed",t[3]),M(e,"focus",t[13])},m(r,c){E(r,e,c),n&&n.m(e,null),T(e,i),l&&l.m(e,null),T(e,s),a&&a.m(e,null)},p(r,c){r[6]&&r[7]!==!1||r[7]?n?n.p(r,c):(n=et(r),n.c(),n.m(e,i)):n&&(n.d(1),n=null),r[6]&&r[9]!==!1||r[9]?l?l.p(r,c):(l=nt(r),l.c(),l.m(e,s)):l&&(l.d(1),l=null),r[6]&&r[8]!==!1||r[8]?a?a.p(r,c):(a=ft(r),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c[0]&32&&M(e,"disabled",r[5]),c[0]&16&&M(e,"hoverable",r[4]),c[0]&4&&M(e,"vertical",r[2]),c[0]&8&&M(e,"reversed",r[3]),c[0]&8192&&M(e,"focus",r[13])},i:oe,o:oe,d(r){r&&b(e),n&&n.d(),l&&l.d(),a&&a.d()}}}function Mi(t,e,i){let s,n,l,a,r,{range:c=!1}=e,{min:u=0}=e,{max:f=100}=e,{step:o=1}=e,{values:d=[(f+u)/2]}=e,{vertical:v=!1}=e,{reversed:m=!1}=e,{hoverable:g=!0}=e,{disabled:k=!1}=e,{pipstep:y=void 0}=e,{all:A=!0}=e,{first:U=void 0}=e,{last:D=void 0}=e,{rest:B=void 0}=e,{prefix:I=""}=e,{suffix:P=""}=e,{formatter:O=(p,H)=>p}=e,{focus:j=void 0}=e,{orientationStart:J=void 0}=e,{percentOf:X=void 0}=e,{moveHandle:$=void 0}=e,{fixFloat:Q=void 0}=e,{normalisedClient:Y=void 0}=e,ee;function x(p){p=Y(p),ee={x:p.clientX,y:p.clientY}}function V(p,H){if(H=Y(H),!k){const se=Math.sqrt(Math.pow(ee.x-H.clientX,2)+Math.pow(ee.y-H.clientY,2));ee&&se<=5&&$(void 0,p)}}const Z=p=>{x(p)},ce=p=>{V(l(u),p)},le=p=>{x(p)},re=(p,H)=>{V(l(p),H)},L=p=>{x(p)},z=p=>{V(l(f),p)};return t.$$set=p=>{"range"in p&&i(23,c=p.range),"min"in p&&i(0,u=p.min),"max"in p&&i(1,f=p.max),"step"in p&&i(24,o=p.step),"values"in p&&i(25,d=p.values),"vertical"in p&&i(2,v=p.vertical),"reversed"in p&&i(3,m=p.reversed),"hoverable"in p&&i(4,g=p.hoverable),"disabled"in p&&i(5,k=p.disabled),"pipstep"in p&&i(26,y=p.pipstep),"all"in p&&i(6,A=p.all),"first"in p&&i(7,U=p.first),"last"in p&&i(8,D=p.last),"rest"in p&&i(9,B=p.rest),"prefix"in p&&i(10,I=p.prefix),"suffix"in p&&i(11,P=p.suffix),"formatter"in p&&i(12,O=p.formatter),"focus"in p&&i(13,j=p.focus),"orientationStart"in p&&i(14,J=p.orientationStart),"percentOf"in p&&i(15,X=p.percentOf),"moveHandle"in p&&i(27,$=p.moveHandle),"fixFloat"in p&&i(16,Q=p.fixFloat),"normalisedClient"in p&&i(28,Y=p.normalisedClient)},t.$$.update=()=>{t.$$.dirty[0]&83886087&&i(29,s=y||((f-u)/o>=(v?50:100)?(f-u)/(v?10:20):1)),t.$$.dirty[0]&553648131&&i(20,n=parseInt((f-u)/(o*s),10)),t.$$.dirty[0]&553713665&&i(19,l=function(p){return Q(u+p*o*s)}),t.$$.dirty[0]&33619968&&i(18,a=function(p){return d.some(H=>Q(H)===Q(p))}),t.$$.dirty[0]&41943040&&i(17,r=function(p){if(c==="min")return d[0]>p;if(c==="max")return d[0]<p;if(c)return d[0]<p&&d[1]>p})},[u,f,v,m,g,k,A,U,D,B,I,P,O,j,J,X,Q,r,a,l,n,x,V,c,o,d,y,$,Y,s,Z,ce,le,re,L,z]}class Li extends Ne{constructor(e){super(),Pe(this,e,Mi,Vi,Ce,{range:23,min:0,max:1,step:24,values:25,vertical:2,reversed:3,hoverable:4,disabled:5,pipstep:26,all:6,first:7,last:8,rest:9,prefix:10,suffix:11,formatter:12,focus:13,orientationStart:14,percentOf:15,moveHandle:27,fixFloat:16,normalisedClient:28},null,[-1,-1])}}function _t(t,e,i){const s=t.slice();return s[65]=e[i],s[67]=i,s}function pt(t){let e,i=t[21](t[65],t[67],t[24](t[65]))+"",s,n=t[18]&&mt(t),l=t[19]&&bt(t);return{c(){e=S("span"),n&&n.c(),s=te(i),l&&l.c(),this.h()},l(a){e=w(a,"SPAN",{class:!0});var r=N(e);n&&n.l(r),s=ie(r,i),l&&l.l(r),r.forEach(b),this.h()},h(){_(e,"class","rangeFloat")},m(a,r){E(a,e,r),n&&n.m(e,null),T(e,s),l&&l.m(e,null)},p(a,r){a[18]?n?n.p(a,r):(n=mt(a),n.c(),n.m(e,s)):n&&(n.d(1),n=null),r[0]&18874369&&i!==(i=a[21](a[65],a[67],a[24](a[65]))+"")&&ne(s,i),a[19]?l?l.p(a,r):(l=bt(a),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(a){a&&b(e),n&&n.d(),l&&l.d()}}}function mt(t){let e,i;return{c(){e=S("span"),i=te(t[18]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[18]),n.forEach(b),this.h()},h(){_(e,"class","rangeFloat-prefix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&262144&&ne(i,s[18])},d(s){s&&b(e)}}}function bt(t){let e,i;return{c(){e=S("span"),i=te(t[19]),this.h()},l(s){e=w(s,"SPAN",{class:!0});var n=N(e);i=ie(n,t[19]),n.forEach(b),this.h()},h(){_(e,"class","rangeFloat-suffix")},m(s,n){E(s,e,n),T(e,i)},p(s,n){n[0]&524288&&ne(i,s[19])},d(s){s&&b(e)}}}function gt(t){let e,i,s,n,l,a,r,c,u,f,o,d,v,m=t[7]&&pt(t);return{c(){e=S("span"),i=S("span"),s=q(),m&&m.c(),this.h()},l(g){e=w(g,"SPAN",{role:!0,class:!0,"data-handle":!0,style:!0,"aria-label":!0,"aria-valuemin":!0,"aria-valuemax":!0,"aria-valuenow":!0,"aria-valuetext":!0,"aria-orientation":!0,"aria-disabled":!0,disabled:!0,tabindex:!0});var k=N(e);i=w(k,"SPAN",{class:!0}),N(i).forEach(b),s=K(k),m&&m.l(k),k.forEach(b),this.h()},h(){_(i,"class","rangeNub"),_(e,"role","slider"),_(e,"class","rangeHandle"),_(e,"data-handle",t[67]),_(e,"style",n=t[29]+": "+t[30][t[67]]+"%; z-index: "+(t[27]===t[67]?3:2)+";"),_(e,"aria-label",l=t[22][t[67]]),_(e,"aria-valuemin",a=t[2]===!0&&t[67]===1?t[0][0]:t[3]),_(e,"aria-valuemax",r=t[2]===!0&&t[67]===0?t[0][1]:t[4]),_(e,"aria-valuenow",c=t[65]),_(e,"aria-valuetext",u=""+(t[18]+t[21](t[65],t[67],t[24](t[65]))+t[19])),_(e,"aria-orientation",f=t[6]?"vertical":"horizontal"),_(e,"aria-disabled",t[10]),_(e,"disabled",t[10]),_(e,"tabindex",o=t[10]?-1:0),M(e,"active",t[25]&&t[27]===t[67]),M(e,"press",t[26]&&t[27]===t[67])},m(g,k){E(g,e,k),T(e,i),T(e,s),m&&m.m(e,null),d||(v=[R(e,"blur",t[35]),R(e,"focus",t[36]),R(e,"keydown",t[37])],d=!0)},p(g,k){g[7]?m?m.p(g,k):(m=pt(g),m.c(),m.m(e,null)):m&&(m.d(1),m=null),k[0]&1744830464&&n!==(n=g[29]+": "+g[30][g[67]]+"%; z-index: "+(g[27]===g[67]?3:2)+";")&&_(e,"style",n),k[0]&4194304&&l!==(l=g[22][g[67]])&&_(e,"aria-label",l),k[0]&13&&a!==(a=g[2]===!0&&g[67]===1?g[0][0]:g[3])&&_(e,"aria-valuemin",a),k[0]&21&&r!==(r=g[2]===!0&&g[67]===0?g[0][1]:g[4])&&_(e,"aria-valuemax",r),k[0]&1&&c!==(c=g[65])&&_(e,"aria-valuenow",c),k[0]&19660801&&u!==(u=""+(g[18]+g[21](g[65],g[67],g[24](g[65]))+g[19]))&&_(e,"aria-valuetext",u),k[0]&64&&f!==(f=g[6]?"vertical":"horizontal")&&_(e,"aria-orientation",f),k[0]&1024&&_(e,"aria-disabled",g[10]),k[0]&1024&&_(e,"disabled",g[10]),k[0]&1024&&o!==(o=g[10]?-1:0)&&_(e,"tabindex",o),k[0]&167772160&&M(e,"active",g[25]&&g[27]===g[67]),k[0]&201326592&&M(e,"press",g[26]&&g[27]===g[67])},d(g){g&&b(e),m&&m.d(),d=!1,de(v)}}}function vt(t){let e,i;return{c(){e=S("span"),this.h()},l(s){e=w(s,"SPAN",{class:!0,style:!0}),N(e).forEach(b),this.h()},h(){_(e,"class","rangeBar"),_(e,"style",i=t[29]+": "+t[33](t[30])+"%; "+t[28]+": "+t[34](t[30])+"%;")},m(s,n){E(s,e,n)},p(s,n){n[0]&1879048192&&i!==(i=s[29]+": "+s[33](s[30])+"%; "+s[28]+": "+s[34](s[30])+"%;")&&_(e,"style",i)},d(s){s&&b(e)}}}function kt(t){let e,i;return e=new Li({props:{values:t[0],min:t[3],max:t[4],step:t[5],range:t[2],vertical:t[6],reversed:t[8],orientationStart:t[29],hoverable:t[9],disabled:t[10],all:t[13],first:t[14],last:t[15],rest:t[16],pipstep:t[12],prefix:t[18],suffix:t[19],formatter:t[20],focus:t[25],percentOf:t[24],moveHandle:t[32],fixFloat:t[31],normalisedClient:Ve}}),{c(){Be(e.$$.fragment)},l(s){Fe(e.$$.fragment,s)},m(s,n){qe(e,s,n),i=!0},p(s,n){const l={};n[0]&1&&(l.values=s[0]),n[0]&8&&(l.min=s[3]),n[0]&16&&(l.max=s[4]),n[0]&32&&(l.step=s[5]),n[0]&4&&(l.range=s[2]),n[0]&64&&(l.vertical=s[6]),n[0]&256&&(l.reversed=s[8]),n[0]&536870912&&(l.orientationStart=s[29]),n[0]&512&&(l.hoverable=s[9]),n[0]&1024&&(l.disabled=s[10]),n[0]&8192&&(l.all=s[13]),n[0]&16384&&(l.first=s[14]),n[0]&32768&&(l.last=s[15]),n[0]&65536&&(l.rest=s[16]),n[0]&4096&&(l.pipstep=s[12]),n[0]&262144&&(l.prefix=s[18]),n[0]&524288&&(l.suffix=s[19]),n[0]&1048576&&(l.formatter=s[20]),n[0]&33554432&&(l.focus=s[25]),n[0]&16777216&&(l.percentOf=s[24]),e.$set(l)},i(s){i||(ge(e.$$.fragment,s),i=!0)},o(s){we(e.$$.fragment,s),i=!1},d(s){Ke(e,s)}}}function Ri(t){let e,i,s,n,l,a,r=ye(t[0]),c=[];for(let o=0;o<r.length;o+=1)c[o]=gt(_t(t,r,o));let u=t[2]&&vt(t),f=t[11]&&kt(t);return{c(){e=S("div");for(let o=0;o<c.length;o+=1)c[o].c();i=q(),u&&u.c(),s=q(),f&&f.c(),this.h()},l(o){e=w(o,"DIV",{id:!0,class:!0});var d=N(e);for(let v=0;v<c.length;v+=1)c[v].l(d);i=K(d),u&&u.l(d),s=K(d),f&&f.l(d),d.forEach(b),this.h()},h(){_(e,"id",t[17]),_(e,"class","rangeSlider"),M(e,"range",t[2]),M(e,"disabled",t[10]),M(e,"hoverable",t[9]),M(e,"vertical",t[6]),M(e,"reversed",t[8]),M(e,"focus",t[25]),M(e,"min",t[2]==="min"),M(e,"max",t[2]==="max"),M(e,"pips",t[11]),M(e,"pip-labels",t[13]==="label"||t[14]==="label"||t[15]==="label"||t[16]==="label")},m(o,d){E(o,e,d);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(e,null);T(e,i),u&&u.m(e,null),T(e,s),f&&f.m(e,null),t[51](e),n=!0,l||(a=[R(window,"mousedown",t[40]),R(window,"touchstart",t[40]),R(window,"mousemove",t[41]),R(window,"touchmove",t[41]),R(window,"mouseup",t[42]),R(window,"touchend",t[43]),R(window,"keydown",t[44]),R(e,"mousedown",t[38]),R(e,"mouseup",t[39]),R(e,"touchstart",Ze(t[38])),R(e,"touchend",Ze(t[39]))],l=!0)},p(o,d){if(d[0]&1869350109|d[1]&112){r=ye(o[0]);let v;for(v=0;v<r.length;v+=1){const m=_t(o,r,v);c[v]?c[v].p(m,d):(c[v]=gt(m),c[v].c(),c[v].m(e,i))}for(;v<c.length;v+=1)c[v].d(1);c.length=r.length}o[2]?u?u.p(o,d):(u=vt(o),u.c(),u.m(e,s)):u&&(u.d(1),u=null),o[11]?f?(f.p(o,d),d[0]&2048&&ge(f,1)):(f=kt(o),f.c(),ge(f,1),f.m(e,null)):f&&(Ot(),we(f,1,1,()=>{f=null}),Ht()),(!n||d[0]&131072)&&_(e,"id",o[17]),(!n||d[0]&4)&&M(e,"range",o[2]),(!n||d[0]&1024)&&M(e,"disabled",o[10]),(!n||d[0]&512)&&M(e,"hoverable",o[9]),(!n||d[0]&64)&&M(e,"vertical",o[6]),(!n||d[0]&256)&&M(e,"reversed",o[8]),(!n||d[0]&33554432)&&M(e,"focus",o[25]),(!n||d[0]&4)&&M(e,"min",o[2]==="min"),(!n||d[0]&4)&&M(e,"max",o[2]==="max"),(!n||d[0]&2048)&&M(e,"pips",o[11]),(!n||d[0]&122880)&&M(e,"pip-labels",o[13]==="label"||o[14]==="label"||o[15]==="label"||o[16]==="label")},i(o){n||(ge(f),n=!0)},o(o){we(f),n=!1},d(o){o&&b(e),je(c,o),u&&u.d(),f&&f.d(),t[51](null),l=!1,de(a)}}}function yt(t){if(!t)return-1;for(var e=0;t=t.previousElementSibling;)e++;return e}function Ve(t){return t.type.includes("touch")?t.touches[0]||t.changedTouches[0]:t}function Di(t,e,i){let s,n,l,a,r,c,u=oe,f=()=>(u(),u=Ae(_e,h=>i(30,c=h)),_e);t.$$.on_destroy.push(()=>u());let{slider:o=void 0}=e,{range:d=!1}=e,{pushy:v=!1}=e,{min:m=0}=e,{max:g=100}=e,{step:k=1}=e,{values:y=[(g+m)/2]}=e,{vertical:A=!1}=e,{float:U=!1}=e,{reversed:D=!1}=e,{hoverable:B=!0}=e,{disabled:I=!1}=e,{pips:P=!1}=e,{pipstep:O=void 0}=e,{all:j=void 0}=e,{first:J=void 0}=e,{last:X=void 0}=e,{rest:$=void 0}=e,{id:Q=void 0}=e,{prefix:Y=""}=e,{suffix:ee=""}=e,{formatter:x=(h,C,G)=>h}=e,{handleFormatter:V=x}=e,{ariaLabels:Z=[]}=e,{precision:ce=2}=e,{springValues:le={stiffness:.15,damping:.4}}=e;const re=Mt();let L=0,z=!1,p=!1,H=!1,se=!1,ue=y.length-1,ve,he,_e;const Te=h=>parseFloat((+h).toFixed(ce));function Ft(h){const C=o.querySelectorAll(".handle"),G=Array.prototype.includes.call(C,h),W=Array.prototype.some.call(C,me=>me.contains(h));return G||W}function qt(h){return d==="min"||d==="max"?h.slice(0,1):d?h.slice(0,2):h}function Ye(){return o.getBoundingClientRect()}function Kt(h){const C=Ye();let G=0,W=0,me=0;A?(G=h.clientY-C.top,W=G/C.height*100,W=D?W:100-W):(G=h.clientX-C.left,W=G/C.width*100,W=D?100-W:W),me=(g-m)/100*W+m;let Xe;return d===!0&&y[0]===y[1]?me>y[1]?1:0:(Xe=y.indexOf([...y].sort((li,ai)=>Math.abs(me-li)-Math.abs(me-ai))[0]),Xe)}function De(h){const C=Ye();let G=0,W=0,me=0;A?(G=h.clientY-C.top,W=G/C.height*100,W=D?W:100-W):(G=h.clientX-C.left,W=G/C.width*100,W=D?100-W:W),me=(g-m)/100*W+m,Ie(ue,me)}function Ie(h,C){return C=l(C),typeof h>"u"&&(h=ue),d&&(h===0&&C>y[1]?v?i(0,y[1]=C,y):C=y[1]:h===1&&C<y[0]&&(v?i(0,y[0]=C,y):C=y[0])),y[h]!==C&&i(0,y[h]=C,y),he!==C&&(si(),he=C),C}function Yt(h){return d==="min"?0:h[0]}function zt(h){return d==="max"?0:d==="min"?100-h[0]:100-h[1]}function Xt(h){se&&(i(25,z=!1),p=!1,i(26,H=!1))}function Gt(h){I||(i(27,ue=yt(h.target)),i(25,z=!0))}function Wt(h){if(!I){const C=yt(h.target);let G=h.ctrlKey||h.metaKey||h.shiftKey?k*10:k,W=!1;switch(h.key){case"PageDown":G*=10;case"ArrowRight":case"ArrowUp":Ie(C,y[C]+G),W=!0;break;case"PageUp":G*=10;case"ArrowLeft":case"ArrowDown":Ie(C,y[C]-G),W=!0;break;case"Home":Ie(C,m),W=!0;break;case"End":Ie(C,g),W=!0;break}W&&(h.preventDefault(),h.stopPropagation())}}function Zt(h){if(!I){const C=h.target,G=Ve(h);i(25,z=!0),p=!0,i(26,H=!0),i(27,ue=Kt(G)),ve=he=l(y[ue]),ii(),h.type==="touchstart"&&!C.matches(".pipVal")&&De(G)}}function Jt(h){h.type==="touchend"&&ze(),i(26,H=!1)}function Qt(h){se=!1,z&&h.target!==o&&!o.contains(h.target)&&i(25,z=!1)}function xt(h){I||p&&De(Ve(h))}function $t(h){if(!I){const C=h.target;p&&((C===o||o.contains(C))&&(i(25,z=!0),!Ft(C)&&!C.matches(".pipVal")&&De(Ve(h))),ze())}p=!1,i(26,H=!1)}function ei(h){p=!1,i(26,H=!1)}function ti(h){I||(h.target===o||o.contains(h.target))&&(se=!0)}function ii(){!I&&re("start",{activeHandle:ue,value:ve,values:y.map(h=>l(h))})}function ze(){!I&&re("stop",{activeHandle:ue,startValue:ve,value:y[ue],values:y.map(h=>l(h))})}function si(){!I&&re("change",{activeHandle:ue,startValue:ve,previousValue:typeof he>"u"?ve:he,value:y[ue],values:y.map(h=>l(h))})}function ni(h){Re[h?"unshift":"push"](()=>{o=h,i(1,o)})}return t.$$set=h=>{"slider"in h&&i(1,o=h.slider),"range"in h&&i(2,d=h.range),"pushy"in h&&i(45,v=h.pushy),"min"in h&&i(3,m=h.min),"max"in h&&i(4,g=h.max),"step"in h&&i(5,k=h.step),"values"in h&&i(0,y=h.values),"vertical"in h&&i(6,A=h.vertical),"float"in h&&i(7,U=h.float),"reversed"in h&&i(8,D=h.reversed),"hoverable"in h&&i(9,B=h.hoverable),"disabled"in h&&i(10,I=h.disabled),"pips"in h&&i(11,P=h.pips),"pipstep"in h&&i(12,O=h.pipstep),"all"in h&&i(13,j=h.all),"first"in h&&i(14,J=h.first),"last"in h&&i(15,X=h.last),"rest"in h&&i(16,$=h.rest),"id"in h&&i(17,Q=h.id),"prefix"in h&&i(18,Y=h.prefix),"suffix"in h&&i(19,ee=h.suffix),"formatter"in h&&i(20,x=h.formatter),"handleFormatter"in h&&i(21,V=h.handleFormatter),"ariaLabels"in h&&i(22,Z=h.ariaLabels),"precision"in h&&i(46,ce=h.precision),"springValues"in h&&i(47,le=h.springValues)},t.$$.update=()=>{if(t.$$.dirty[0]&24&&i(50,n=function(h){return h<=m?m:h>=g?g:h}),t.$$.dirty[0]&56|t.$$.dirty[1]&524288&&i(49,l=function(h){if(h<=m)return Te(m);if(h>=g)return Te(g);h=Te(h);let C=(h-m)%k,G=h-C;return Math.abs(C)*2>=k&&(G+=C>0?k:-k),G=n(G),Te(G)}),t.$$.dirty[0]&24&&i(24,s=function(h){let C=(h-m)/(g-m)*100;return isNaN(C)||C<=0?0:C>=100?100:Te(C)}),t.$$.dirty[0]&29360153|t.$$.dirty[1]&458752){Array.isArray(y)||(i(0,y=[(g+m)/2]),console.error("'values' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)"));const h=qt(y.map(C=>l(C)));(y.length!==h.length||!y.every((C,G)=>Te(C)===h[G]))&&i(0,y=h),L!==y.length?f(i(23,_e=Ai(y.map(C=>s(C)),le))):_e.set(y.map(C=>s(C))),i(48,L=y.length),y.length>1&&!Array.isArray(Z)&&console.warn("'ariaLabels' prop should be an Array (https://github.com/simeydotme/svelte-range-slider-pips#slider-props)")}t.$$.dirty[0]&320&&i(29,a=A?D?"top":"bottom":D?"right":"left"),t.$$.dirty[0]&320&&i(28,r=A?D?"bottom":"top":D?"left":"right")},[y,o,d,m,g,k,A,U,D,B,I,P,O,j,J,X,$,Q,Y,ee,x,V,Z,_e,s,z,H,ue,r,a,c,Te,Ie,Yt,zt,Xt,Gt,Wt,Zt,Jt,Qt,xt,$t,ei,ti,v,ce,le,L,l,n,ni]}class Oi extends Ne{constructor(e){super(),Pe(this,e,Di,Ri,Ce,{slider:1,range:2,pushy:45,min:3,max:4,step:5,values:0,vertical:6,float:7,reversed:8,hoverable:9,disabled:10,pips:11,pipstep:12,all:13,first:14,last:15,rest:16,id:17,prefix:18,suffix:19,formatter:20,handleFormatter:21,ariaLabels:22,precision:46,springValues:47},null,[-1,-1,-1])}}function Hi(t){let e,i,s,n='Press <span class="emphasis">Enter</span> to play from caption start';return{c(){e=S("i"),i=q(),s=S("span"),s.innerHTML=n,this.h()},l(l){e=w(l,"I",{class:!0,"aria-hidden":!0}),N(e).forEach(b),i=K(l),s=w(l,"SPAN",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-7ny8lh"&&(s.innerHTML=n),this.h()},h(){_(e,"class","fa fa-play"),_(e,"aria-hidden","true"),_(s,"class","tooltip-top svelte-oss4p8")},m(l,a){E(l,e,a),E(l,i,a),E(l,s,a)},d(l){l&&(b(e),b(i),b(s))}}}function Ui(t){let e,i,s,n='Press <span class="emphasis">Enter</span> to play from caption start';return{c(){e=S("i"),i=q(),s=S("span"),s.innerHTML=n,this.h()},l(l){e=w(l,"I",{class:!0,"aria-hidden":!0}),N(e).forEach(b),i=K(l),s=w(l,"SPAN",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-7ny8lh"&&(s.innerHTML=n),this.h()},h(){_(e,"class","fa fa-repeat"),_(e,"aria-hidden","true"),_(s,"class","tooltip-top svelte-oss4p8")},m(l,a){E(l,e,a),E(l,i,a),E(l,s,a)},d(l){l&&(b(e),b(i),b(s))}}}function ji(t){let e,i,s,n='Press <span class="emphasis">Enter</span> to pause';return{c(){e=S("i"),i=q(),s=S("span"),s.innerHTML=n,this.h()},l(l){e=w(l,"I",{class:!0,"aria-hidden":!0}),N(e).forEach(b),i=K(l),s=w(l,"SPAN",{class:!0,"data-svelte-h":!0}),ae(s)!=="svelte-1g8myc7"&&(s.innerHTML=n),this.h()},h(){_(e,"class","fa fa-pause"),_(e,"aria-hidden","true"),_(s,"class","tooltip-top svelte-oss4p8")},m(l,a){E(l,e,a),E(l,i,a),E(l,s,a)},d(l){l&&(b(e),b(i),b(s))}}}function Bi(t){let e,i,s,n,l,a,r,c,u,f,o="0.5x",d,v="0.75x",m,g="1x",k,y="1.25x",A,U="1.5x",D,B,I,P,O,j="reset",J,X,$=`previous
			<span class="tooltip-bottom svelte-oss4p8">Keyboard shortcut:
				<span class="emphasis">Ctrl</span> +
				<span class="emphasis">Shift</span> +
				<span class="emphasis">Enter</span></span>`,Q,Y,ee=`done
			<span class="tooltip-bottom svelte-oss4p8">Keyboard shortcut:
				<span class="emphasis">Ctrl</span> +
				<span class="emphasis">Enter</span></span>`,x,V,Z;function ce(p){t[13](p)}let le={id:"time-slider",min:t[1],max:t[2],step:.01,range:!0,float:!0,formatter:Fi,pips:!0,pipstep:25,springValues:{stiffness:.2,damping:.5}};t[3]!==void 0&&(le.values=t[3]),n=new Oi({props:le}),Re.push(()=>gi(n,"values",ce)),n.$on("start",t[6]),n.$on("stop",t[7]),n.$on("change",t[8]);function re(p,H){return p[5]?p[4]>=p[2]?Ui:Hi:ji}let L=re(t),z=L(t);return{c(){e=S("div"),i=S("div"),s=S("div"),Be(n.$$.fragment),a=q(),r=S("button"),z.c(),c=q(),u=S("select"),f=S("option"),f.textContent=o,d=S("option"),d.textContent=v,m=S("option"),m.textContent=g,k=S("option"),k.textContent=y,A=S("option"),A.textContent=U,D=q(),B=S("hr"),I=q(),P=S("div"),O=S("button"),O.textContent=j,J=q(),X=S("button"),X.innerHTML=$,Q=q(),Y=S("button"),Y.innerHTML=ee,this.h()},l(p){e=w(p,"DIV",{class:!0});var H=N(e);i=w(H,"DIV",{class:!0});var se=N(i);s=w(se,"DIV",{style:!0});var ue=N(s);Fe(n.$$.fragment,ue),ue.forEach(b),a=K(se),r=w(se,"BUTTON",{class:!0});var ve=N(r);z.l(ve),ve.forEach(b),c=K(se),u=w(se,"SELECT",{class:!0});var he=N(u);f=w(he,"OPTION",{"data-svelte-h":!0}),ae(f)!=="svelte-ikd6rc"&&(f.textContent=o),d=w(he,"OPTION",{"data-svelte-h":!0}),ae(d)!=="svelte-1ggqhwc"&&(d.textContent=v),m=w(he,"OPTION",{"data-svelte-h":!0}),ae(m)!=="svelte-5f152w"&&(m.textContent=g),k=w(he,"OPTION",{"data-svelte-h":!0}),ae(k)!=="svelte-pvehv0"&&(k.textContent=y),A=w(he,"OPTION",{"data-svelte-h":!0}),ae(A)!=="svelte-1jd2y26"&&(A.textContent=U),he.forEach(b),se.forEach(b),D=K(H),B=w(H,"HR",{class:!0}),I=K(H),P=w(H,"DIV",{class:!0});var _e=N(P);O=w(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(O)!=="svelte-1rmb0y5"&&(O.textContent=j),J=K(_e),X=w(_e,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),ae(X)!=="svelte-tf8rlk"&&(X.innerHTML=$),Q=K(_e),Y=w(_e,"BUTTON",{class:!0,"data-svelte-h":!0}),ae(Y)!=="svelte-8v8nwz"&&(Y.innerHTML=ee),_e.forEach(b),H.forEach(b),this.h()},h(){pe(s,"flex-grow","1"),_(r,"class","slider-button clickable tooltip svelte-oss4p8"),f.__value=.5,fe(f,f.__value),d.__value=.75,fe(d,d.__value),m.__value=1,fe(m,m.__value),k.__value=1.25,fe(k,k.__value),A.__value=1.5,fe(A,A.__value),_(u,"class","slider-button select clickable svelte-oss4p8"),t[0].video.playbackRate===void 0&&Me(()=>t[14].call(u)),_(i,"class","toolbar-slider-row svelte-oss4p8"),_(B,"class","divider svelte-oss4p8"),_(O,"class","toolbar-button clickable svelte-oss4p8"),_(X,"class","toolbar-button clickable tooltip svelte-oss4p8"),pe(X,"margin-left","auto"),_(Y,"class","accent-button clickable tooltip svelte-oss4p8"),_(P,"class","toolbar-button-row svelte-oss4p8"),_(e,"class","toolbar svelte-oss4p8")},m(p,H){E(p,e,H),T(e,i),T(i,s),qe(n,s,null),T(i,a),T(i,r),z.m(r,null),T(i,c),T(i,u),T(u,f),T(u,d),T(u,m),T(u,k),T(u,A),Je(u,t[0].video.playbackRate,!0),T(e,D),T(e,B),T(e,I),T(e,P),T(P,O),T(P,J),T(P,X),T(P,Q),T(P,Y),x=!0,V||(Z=[R(r,"click",t[9]),R(u,"change",t[14]),R(O,"click",t[10]),R(X,"click",t[12]),R(Y,"click",t[11])],V=!0)},p(p,[H]){const se={};H&2&&(se.min=p[1]),H&4&&(se.max=p[2]),!l&&H&8&&(l=!0,se.values=p[3],di(()=>l=!1)),n.$set(se),L!==(L=re(p))&&(z.d(1),z=L(p),z&&(z.c(),z.m(r,null))),H&1&&Je(u,p[0].video.playbackRate)},i(p){x||(ge(n.$$.fragment,p),x=!0)},o(p){we(n.$$.fragment,p),x=!1},d(p){p&&b(e),Ke(n),z.d(),V=!1,de(Z)}}}const Tt=2,St=8;function Fi(t){return new Date(t*1e3).toISOString().substring(11,19)}function qi(t,e,i){let{editor:s}=e,n=s.currentCaption,l,a,r,c,u,f,o,d,v;function m(){r=n.startTime,c=n.endTime,d=c-r}function g(){n=s.currentCaption,l=n.next,a=n.previous,m(),i(1,u=Math.max(Math.min((a==null?void 0:a.endTime)??0,r-Tt),r-St,0)),i(2,f=Math.min(Math.max((l==null?void 0:l.startTime)??0,c+Tt),c+St,s.video.duration)),console.log(f+" - "+u),o=f-u,i(3,v=[r,c]),i(0,s.video.currentTime=u+.01,s),i(0,s.video.playUntil=f,s)}g(),s.addNavigationListener(()=>{g()});let k=0,y=!0,A,U,D,B,I=!1;function P(){if(i(4,k=s.video.currentTime),i(5,y=s.video.paused),k<u)A.style.background="var(--range-slider)";else if(k>f)A.style.background="var(--range-slider-progress)";else{const V=(100*(k-u)/o).toFixed(4);A.style.background=`linear-gradient(to right, var(--range-slider-progress) ${V}%, var(--range-slider) ${V}%)`}if(I)U.style.removeProperty("background"),D.style.removeProperty("background"),B.style.removeProperty("background");else{if(k<r)U.style.background="var(--range-handle-inactive)";else if(k>c)U.style.background="var(--range-handle-inactive-progress)";else{const V=(100*(k-r)/d).toFixed(4);U.style.background=`linear-gradient(to right, var(--range-handle-inactive-progress) ${V}%, var(--range-handle-inactive) ${V}%)`}U.style.transition="none",k<r?D.style.background="var(--range-handle-inactive)":D.style.background="var(--range-handle-inactive-progress)",k<c?B.style.background="var(--range-handle-inactive)":B.style.background="var(--range-handle-inactive-progress)"}}Le(()=>{A=document.querySelector("#time-slider"),U=document.querySelector("#time-slider .rangeBar"),[D,B]=document.querySelectorAll("#time-slider .rangeNub"),P()}),s.video.addPlaybackListener(()=>{P()});function O(){I=!0,P()}function j(){I=!1,setTimeout(P,250)}function J(){n.startTime=v[0],n.endTime=v[1],m()}function X(){s.video.paused&&s.video.currentTime>=f&&i(0,s.video.currentTime=u+.01,s),i(0,s.video.paused=!s.video.paused,s)}function $(){n.text=n.originalText,n.edited=!1}function Q(){s.next()}function Y(){s.previous()}function ee(V){v=V,i(3,v)}function x(){s.video.playbackRate=ci(this),i(0,s)}return t.$$set=V=>{"editor"in V&&i(0,s=V.editor)},[s,u,f,v,k,y,O,j,J,X,$,Q,Y,ee,x]}class Ki extends Ne{constructor(e){super(),Pe(this,e,qi,Bi,Ce,{editor:0})}}function wt(t,e,i){const s=t.slice();s[30]=e[i],s[34]=i;const n=s[4]+s[34];s[31]=n;const l=s[0].captions[s[31]];return s[32]=l,s}function Yi(t){let e,i=new Date(t[32].startTime*1e3).toISOString().slice(11,19)+"",s,n,l,a,r;function c(o,d){return o[1].enableSpeakerNames&&o[32].speaker!=""?Gi:Xi}let u=c(t),f=u(t);return{c(){e=S("span"),s=te(i),l=q(),a=S("div"),f.c(),this.h()},l(o){e=w(o,"SPAN",{class:!0});var d=N(e);s=ie(d,i),d.forEach(b),l=K(o),a=w(o,"DIV",{class:!0});var v=N(a);f.l(v),v.forEach(b),this.h()},h(){_(e,"class",n="caption-timestamp caption-timestamp-"+t[16](t[32])+" svelte-jpbesl"),_(a,"class",r="caption-text caption-text-"+t[16](t[32])+" svelte-jpbesl")},m(o,d){E(o,e,d),T(e,s),E(o,l,d),E(o,a,d),f.m(a,null)},p(o,d){d[0]&49&&i!==(i=new Date(o[32].startTime*1e3).toISOString().slice(11,19)+"")&&ne(s,i),d[0]&49&&n!==(n="caption-timestamp caption-timestamp-"+o[16](o[32])+" svelte-jpbesl")&&_(e,"class",n),u===(u=c(o))&&f?f.p(o,d):(f.d(1),f=u(o),f&&(f.c(),f.m(a,null))),d[0]&49&&r!==(r="caption-text caption-text-"+o[16](o[32])+" svelte-jpbesl")&&_(a,"class",r)},d(o){o&&(b(e),b(l),b(a)),f.d()}}}function zi(t){let e,i=new Date(t[13]*1e3).toISOString().slice(11,19)+"",s,n,l,a,r,c,u,f=t[1].enableSpeakerNames&&Ct(t);return{c(){e=S("span"),s=te(i),l=q(),f&&f.c(),a=q(),r=S("textarea"),this.h()},l(o){e=w(o,"SPAN",{class:!0});var d=N(e);s=ie(d,i),d.forEach(b),l=K(o),f&&f.l(o),a=K(o),r=w(o,"TEXTAREA",{class:!0,spellcheck:!0,rows:!0}),N(r).forEach(b),this.h()},h(){_(e,"class",n="caption-timestamp caption-timestamp-"+t[16](t[32])+" svelte-jpbesl"),_(r,"class","current-caption svelte-jpbesl"),_(r,"spellcheck","true"),_(r,"rows","2")},m(o,d){E(o,e,d),T(e,s),E(o,l,d),f&&f.m(o,d),E(o,a,d),E(o,r,d),fe(r,t[15]),c||(u=[R(r,"input",t[19]),Lt(jt.call(null,r))],c=!0)},p(o,d){d[0]&8192&&i!==(i=new Date(o[13]*1e3).toISOString().slice(11,19)+"")&&ne(s,i),d[0]&49&&n!==(n="caption-timestamp caption-timestamp-"+o[16](o[32])+" svelte-jpbesl")&&_(e,"class",n),o[1].enableSpeakerNames?f?f.p(o,d):(f=Ct(o),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null),d[0]&32768&&fe(r,o[15])},d(o){o&&(b(e),b(l),b(a),b(r)),f&&f.d(o),c=!1,de(u)}}}function Xi(t){let e=t[32].text+"",i;return{c(){i=te(e)},l(s){i=ie(s,e)},m(s,n){E(s,i,n)},p(s,n){n[0]&49&&e!==(e=s[32].text+"")&&ne(i,e)},d(s){s&&b(i)}}}function Gi(t){let e=`[${t[32].speaker}] ${t[32].text}`,i;return{c(){i=te(e)},l(s){i=ie(s,e)},m(s,n){E(s,i,n)},p(s,n){n[0]&49&&e!==(e=`[${s[32].speaker}] ${s[32].text}`)&&ne(i,e)},d(s){s&&b(i)}}}function Ct(t){let e,i,s;return{c(){e=S("input"),this.h()},l(n){e=w(n,"INPUT",{class:!0,placeholder:!0,spellcheck:!0}),this.h()},h(){_(e,"class","current-caption-speaker svelte-jpbesl"),_(e,"placeholder","Speaker"),_(e,"spellcheck","true")},m(n,l){E(n,e,l),fe(e,t[14]),i||(s=[R(e,"input",t[18]),Lt(jt.call(null,e))],i=!0)},p(n,l){l[0]&16384&&e.value!==n[14]&&fe(e,n[14])},d(n){n&&b(e),i=!1,de(s)}}}function It(t,e){let i,s,n,l,a=oe;function r(f,o){return f[31]===f[0].currentIdx?zi:Yi}let c=r(e),u=c(e);return{key:t,first:null,c(){i=S("div"),s=S("div"),u.c(),n=q(),this.h()},l(f){i=w(f,"DIV",{class:!0,style:!0});var o=N(i);s=w(o,"DIV",{class:!0});var d=N(s);u.l(d),d.forEach(b),n=K(o),o.forEach(b),this.h()},h(){_(s,"class","caption svelte-jpbesl"),_(i,"class","caption-row svelte-jpbesl"),pe(i,"position","absolute"),pe(i,"top",e[30]+"px"),pe(i,"height",Se+"px"),this.first=i},m(f,o){E(f,i,o),T(i,s),u.m(s,null),T(i,n)},p(f,o){e=f,c===(c=r(e))&&u?u.p(e,o):(u.d(1),u=c(e),u&&(u.c(),u.m(s,null))),o[0]&32&&pe(i,"top",e[30]+"px")},r(){l=i.getBoundingClientRect()},f(){Ti(i),a()},a(){a(),a=yi(i,l,Pi,{duration:250})},d(f){f&&b(i),u.d()}}}function Et(t){let e,i=[],s=new Map,n,l,a,r=ye(t[5]);const c=u=>u[4]+u[34];for(let u=0;u<r.length;u+=1){let f=wt(t,r,u),o=c(f);s.set(o,i[u]=It(o,f))}return{c(){e=S("div");for(let u=0;u<i.length;u+=1)i[u].c();this.h()},l(u){e=w(u,"DIV",{class:!0});var f=N(e);for(let o=0;o<i.length;o+=1)i[o].l(f);f.forEach(b),this.h()},h(){_(e,"class","captions-view")},m(u,f){E(u,e,f);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null);a=!0},p(u,f){if(t=u,f[0]&122931){r=ye(t[5]);for(let o=0;o<i.length;o+=1)i[o].r();i=Ii(i,f,c,1,t,r,s,e,Ci,It,null,wt);for(let o=0;o<i.length;o+=1)i[o].a()}},i(u){a||(u&&Me(()=>{a&&(l&&l.end(1),n=vi(e,Qe,t[9]),n.start())}),a=!0)},o(u){n&&n.invalidate(),u&&(l=ki(e,Qe,t[10])),a=!1},d(u){u&&b(e);for(let f=0;f<i.length;f+=1)i[f].d();u&&l&&l.end()}}}function Wi(t){let e,i=t[11],s,n,l,a,r,c=Et(t);return l=new Ki({props:{editor:t[0]}}),{c(){e=S("div"),c.c(),s=q(),n=S("div"),Be(l.$$.fragment),this.h()},l(u){e=w(u,"DIV",{class:!0});var f=N(e);c.l(f),s=K(f),n=w(f,"DIV",{class:!0,style:!0});var o=N(n);Fe(l.$$.fragment,o),o.forEach(b),f.forEach(b),this.h()},h(){_(n,"class","toolbar-container svelte-jpbesl"),pe(n,"position","absolute"),pe(n,"top",t[3]+25+"px"),_(e,"class","captions-container svelte-jpbesl"),Me(()=>t[20].call(e))},m(u,f){E(u,e,f),c.m(e,null),T(e,s),T(e,n),qe(l,n,null),a=hi(e,t[20].bind(e)),t[21](e),r=!0},p(u,f){f[0]&2048&&Ce(i,i=u[11])?(Ot(),we(c,1,1,oe),Ht(),c=Et(u),c.c(),ge(c,1),c.m(e,s)):c.p(u,f);const o={};f[0]&1&&(o.editor=u[0]),l.$set(o),(!r||f[0]&8)&&pe(n,"top",u[3]+25+"px")},i(u){r||(ge(c),ge(l.$$.fragment,u),r=!0)},o(u){we(c),we(l.$$.fragment,u),r=!1},d(u){u&&b(e),c.d(u),Ke(l),a(),t[21](null)}}}const Se=60,Zi=25,Nt=150;function jt(t){t.focus()}function Ji(t,e,i){let s,n=oe,l=()=>(n(),n=Ae(j,L=>i(13,s=L)),j),a,r=oe,c=()=>(r(),r=Ae(X,L=>i(14,a=L)),X),u,f=oe,o=()=>(f(),f=Ae(J,L=>i(15,u=L)),J);t.$$.on_destroy.push(()=>n()),t.$$.on_destroy.push(()=>r()),t.$$.on_destroy.push(()=>f());let{editor:d}=e,{settings:v}=e;const m=Nt+Se+Zi;let g,k,y,A,U,D,B=0,I=[];function P(){i(4,B=Math.max(0,d.currentIdx-U));const L=Math.min(d.captions.length-1,d.currentIdx+D);i(5,I=[]);for(let z=B;z<=L;z++){const p=z-d.currentIdx;p==0?I.push(y+Nt):p<0?I.push(y+p*Se):I.push(y+A+(p-1)*Se)}}function O(L){return L.score>=v.highAccuracyThreshold?"default":L.edited?"edited":L.score>=v.mediumAccuracyThreshold?"medium":"low"}let j,J,X;function $(){l(i(6,j=d.currentCaption.startTimeStore)),d.currentCaption.endTimeStore,o(i(7,J=d.currentCaption.textStore)),c(i(8,X=d.currentCaption.speakerName))}$();let Q=0,Y={x:50,duration:150,delay:100},ee={x:-50,duration:150},x=!1;d.addNavigationListener(L=>{P(),$(),L<Q?(i(9,Y.x=-50,Y),i(10,ee.x=50,ee)):(i(9,Y.x=50,Y),i(10,ee.x=-50,ee)),Math.abs(L-Q)>k&&i(11,x=!0),Q=L}),document.addEventListener("keydown",L=>{L.key==="Enter"&&(L.ctrlKey||L.metaKey?L.shiftKey?d.previous():d.next():d.video.paused?(i(0,d.video.currentTime=Math.max(0,d.currentCaption.startTime-1.99),d),i(0,d.video.paused=!1,d)):i(0,d.video.paused=!0,d),L.preventDefault())});let V;Le(()=>{P(),V.addEventListener("scroll",()=>{V.scrollTop!=0&&V.scrollTo(0,0)})}),_i(()=>{i(11,x=!1)});function Z(){a=this.value,X.set(a)}function ce(){u=this.value,J.set(u)}function le(){g=this.clientHeight,i(2,g)}function re(L){Re[L?"unshift":"push"](()=>{V=L,i(12,V)})}return t.$$set=L=>{"editor"in L&&i(0,d=L.editor),"settings"in L&&i(1,v=L.settings)},t.$$.update=()=>{t.$$.dirty[0]&131078&&(i(17,k=Math.floor((g-m)/Se)),A=g-k*Se,i(3,y=Se*Math.floor(k/2)),U=Math.floor(3*k/2),D=Math.ceil(3*k/2),P())},[d,v,g,y,B,I,j,J,X,Y,ee,x,V,s,a,u,O,k,Z,ce,le,re]}class ds extends Ne{constructor(e){super(),Pe(this,e,Ji,Wi,Ce,{editor:0,settings:1},null,[-1,-1])}}function Pt(t,e,i){const s=t.slice();return s[9]=e[i][0],s[10]=e[i][1],s[11]=e,s[12]=i,s}function At(t){let e,i,s,n,l,a='<i class="fa fa-xmark" aria-hidden="true"></i>',r,c,u,f=ye(Object.entries(t[2])),o=[];for(let d=0;d<f.length;d+=1)o[d]=Vt(Pt(t,f,d));return{c(){e=S("div"),i=S("div"),s=S("div"),n=te(`Settings
				`),l=S("button"),l.innerHTML=a,r=q();for(let d=0;d<o.length;d+=1)o[d].c();this.h()},l(d){e=w(d,"DIV",{id:!0,class:!0});var v=N(e);i=w(v,"DIV",{id:!0,class:!0});var m=N(i);s=w(m,"DIV",{id:!0,class:!0});var g=N(s);n=ie(g,`Settings
				`),l=w(g,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ae(l)!=="svelte-1tublea"&&(l.innerHTML=a),g.forEach(b),r=K(m);for(let k=0;k<o.length;k+=1)o[k].l(m);m.forEach(b),v.forEach(b),this.h()},h(){_(l,"id","close-button"),_(l,"class","clickable svelte-1luld24"),_(s,"id","title"),_(s,"class","svelte-1luld24"),_(i,"id","menu"),_(i,"class","svelte-1luld24"),_(e,"id","overlay"),_(e,"class","svelte-1luld24")},m(d,v){E(d,e,v),T(e,i),T(i,s),T(s,n),T(s,l),T(i,r);for(let m=0;m<o.length;m+=1)o[m]&&o[m].m(i,null);c||(u=R(l,"click",t[3]),c=!0)},p(d,v){if(v&21){f=ye(Object.entries(d[2]));let m;for(m=0;m<f.length;m+=1){const g=Pt(d,f,m);o[m]?o[m].p(g,v):(o[m]=Vt(g),o[m].c(),o[m].m(i,null))}for(;m<o.length;m+=1)o[m].d(1);o.length=f.length}},d(d){d&&b(e),je(o,d),c=!1,u()}}}function Qi(t){let e,i,s;function n(){t[7].call(e,t[9])}return{c(){e=S("input"),this.h()},l(l){e=w(l,"INPUT",{class:!0,type:!0,step:!0}),this.h()},h(){_(e,"class","setting-input svelte-1luld24"),_(e,"type","number"),_(e,"step","0.01")},m(l,a){E(l,e,a),fe(e,t[0][t[9]]),i||(s=[R(e,"input",n),R(e,"blur",t[4])],i=!0)},p(l,a){t=l,a&5&&Rt(e.value)!==t[0][t[9]]&&fe(e,t[0][t[9]])},d(l){l&&b(e),i=!1,de(s)}}}function xi(t){let e,i,s;function n(){t[6].call(e,t[9])}return{c(){e=S("input"),this.h()},l(l){e=w(l,"INPUT",{class:!0,type:!0}),this.h()},h(){_(e,"class","setting-input svelte-1luld24"),_(e,"type","text")},m(l,a){E(l,e,a),fe(e,t[0][t[9]]),i||(s=[R(e,"input",n),R(e,"blur",t[4])],i=!0)},p(l,a){t=l,a&5&&e.value!==t[0][t[9]]&&fe(e,t[0][t[9]])},d(l){l&&b(e),i=!1,de(s)}}}function $i(t){let e,i,s;function n(){t[5].call(e,t[9])}return{c(){e=S("input"),this.h()},l(l){e=w(l,"INPUT",{class:!0,type:!0}),this.h()},h(){_(e,"class","setting-input svelte-1luld24"),_(e,"type","checkbox")},m(l,a){E(l,e,a),e.checked=t[0][t[9]],i||(s=[R(e,"change",n),R(e,"change",t[4])],i=!0)},p(l,a){t=l,a&5&&(e.checked=t[0][t[9]])},d(l){l&&b(e),i=!1,de(s)}}}function Vt(t){let e,i,s=t[10].name+"",n,l,a;function r(f,o){if(typeof f[10].value=="boolean")return $i;if(typeof f[10].value=="string")return xi;if(typeof f[10].value=="number")return Qi}let c=r(t),u=c&&c(t);return{c(){e=S("div"),i=S("label"),n=te(s),l=q(),u&&u.c(),a=q(),this.h()},l(f){e=w(f,"DIV",{class:!0});var o=N(e);i=w(o,"LABEL",{for:!0});var d=N(i);n=ie(d,s),d.forEach(b),l=K(o),u&&u.l(o),a=K(o),o.forEach(b),this.h()},h(){_(i,"for",t[10].name),_(e,"class","setting-item svelte-1luld24")},m(f,o){E(f,e,o),T(e,i),T(i,n),T(e,l),u&&u.m(e,null),T(e,a)},p(f,o){u&&u.p(f,o)},d(f){f&&b(e),u&&u.d()}}}function es(t){let e,i='<i class="fa fa-sliders" aria-hidden="true"></i>',s,n,l,a,r=t[1]&&At(t);return{c(){e=S("button"),e.innerHTML=i,s=q(),r&&r.c(),n=Ee(),this.h()},l(c){e=w(c,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-woaivk"&&(e.innerHTML=i),s=K(c),r&&r.l(c),n=Ee(),this.h()},h(){_(e,"id","settings-button"),_(e,"class","clickable svelte-1luld24")},m(c,u){E(c,e,u),E(c,s,u),r&&r.m(c,u),E(c,n,u),l||(a=R(e,"click",t[3]),l=!0)},p(c,[u]){c[1]?r?r.p(c,u):(r=At(c),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:oe,o:oe,d(c){c&&(b(e),b(s),b(n)),r&&r.d(c),l=!1,a()}}}function ts(t,e,i){const s={highAccuracyThreshold:{name:"High accuracy threshold",value:.9},mediumAccuracyThreshold:{name:"Medium accuracy threshold",value:.8},quickEdit:{name:"Quick Edit",value:!0},enableSpeakerNames:{name:"Enable speaker names",value:!1},lightTheme:{name:"Light theme",value:!1}};let n={};for(const[d,v]of Object.entries(s))n[d]=v.value;const l=Mt();let a=!1;function r(){i(1,a=!a)}function c(){l("settingsChange",n)}Le(()=>{c()});function u(d){n[d]=this.checked,i(0,n)}function f(d){n[d]=this.value,i(0,n)}function o(d){n[d]=Rt(this.value),i(0,n)}return[n,a,s,r,c,u,f,o]}class cs extends Ne{constructor(e){super(),Pe(this,e,ts,es,Ce,{})}}class Bt{constructor(e){F(this,"_startTimeStore");F(this,"_endTimeStore");F(this,"_textStore");F(this,"_speakerName");F(this,"_originalText");F(this,"_score");F(this,"_edited");F(this,"_next",null);F(this,"_previous",null);F(this,"_vttCue");this._startTimeStore=ke(e.startTime),this._endTimeStore=ke(e.endTime),this._textStore=ke(e.text),this._speakerName=ke(""),this._originalText=e.originalText??e.text,this._score=e.score,this._edited=!1,this._vttCue=new VTTCue(this.startTime,this.endTime,this.text),this._startTimeStore.subscribe(i=>{this._vttCue.startTime=i}),this._endTimeStore.subscribe(i=>{this._vttCue.endTime=i}),this._textStore.subscribe(i=>{this.speaker!=""?this._vttCue.text=`[${this.speaker}] ${i}`:this._vttCue.text=i}),this._speakerName.subscribe(i=>{i!=""?this._vttCue.text=`[${i}] ${this.text}`:this._vttCue.text=this.text})}get startTime(){return be(this._startTimeStore)}set startTime(e){this._startTimeStore.set(e)}get startTimeStore(){return this._startTimeStore}get endTime(){return be(this._endTimeStore)}set endTime(e){this._endTimeStore.set(e)}get endTimeStore(){return this._endTimeStore}get text(){return be(this._textStore)}set text(e){this._textStore.set(e)}get textStore(){return this._textStore}get speakerName(){return this._speakerName}get speaker(){return be(this._speakerName)}get originalText(){return this._originalText}get score(){return this._score}set score(e){this._score=e}get edited(){return this._edited}set edited(e){this._edited=e}get next(){return this._next}get previous(){return this._previous}get vttCue(){return this._vttCue}serialize(){return{startTime:this.startTime,endTime:this.endTime,text:this.text,originalText:this._originalText,score:this._score}}static deserializeCaptions(e){const i=[];let s=null;for(const n of e){const l=new Bt(n);s!=null&&(l._previous=s,s._next=l),s=l,i.push(l)}return i}}class is{constructor(){F(this,"_edits");F(this,"_editStartTime");F(this,"_paused");F(this,"_playbackStartTime");this._edits=[],this._editStartTime=0,this._paused=!0,this._playbackStartTime=0}startEdit(e,i){const s={index:e,duration:0,playbackDuration:0,oldStartTime:i.startTime,oldEndTime:i.endTime,oldText:i.text};this._edits.push(s),this._editStartTime=performance.now(),this._paused||(this._playbackStartTime=this._editStartTime)}setPaused(e){if(e!==this._paused){if(!e)this._playbackStartTime=performance.now();else if(this._edits.length>0){const i=this._edits[this._edits.length-1];i.playbackDuration+=performance.now()-this._playbackStartTime}this._paused=e}}finishEdit(e,i){if(this._edits.length>0){const s=this._edits[this._edits.length-1],n=performance.now();s.duration=n-this._editStartTime,this._paused||(s.playbackDuration+=n-this._playbackStartTime),s.newStartTime=i.startTime,s.newEndTime=i.endTime,s.newText=i.text}}download(){const e=new File([JSON.stringify(this._edits)],"analytics.json",{type:"text/plain"}),i=document.createElement("a"),s=URL.createObjectURL(e);i.href=s,i.download=e.name,document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(s)}}class ss{constructor(e){F(this,"_analytics");F(this,"_duration");F(this,"_currentTimeStore");F(this,"_pausedStore");F(this,"_playbackRateStore");F(this,"_playUntil");F(this,"_playbackListeners");this._analytics=e,this._duration=1e9,this._currentTimeStore=ke(0),this._pausedStore=ke(!0),this._playbackRateStore=ke(1),this._playUntil=null,this._playbackListeners=[],this._currentTimeStore.subscribe(i=>{for(const s of this._playbackListeners)s(be(this._pausedStore));this._playUntil!=null&&i>=this._playUntil&&(this.paused=!0)}),this._pausedStore.subscribe(i=>{for(const s of this._playbackListeners)s(i)}),this._playbackRateStore.subscribe(i=>{for(const s of this._playbackListeners)s(be(this._pausedStore))})}get duration(){return this._duration}set duration(e){this._duration=e}get currentTime(){return be(this._currentTimeStore)}set currentTime(e){this._currentTimeStore.set(e)}get currentTimeStore(){return this._currentTimeStore}get paused(){return be(this._pausedStore)}set paused(e){this._pausedStore.set(e),this._analytics.setPaused(e)}get pausedStore(){return this._pausedStore}get playbackRate(){return be(this._playbackRateStore)}set playbackRate(e){this._playbackRateStore.set(e)}get playbackRateStore(){return this._playbackRateStore}get playUntil(){return this._playUntil}set playUntil(e){this._playUntil=e}addPlaybackListener(e){this._playbackListeners.push(e)}}class hs{constructor(e){F(this,"_analytics");F(this,"_video");F(this,"_captions");F(this,"_currentIdx");F(this,"_prevIdx");F(this,"_navigationListeners");F(this,"_advancedMode");F(this,"_uncertaintyThreshold");F(this,"_numCompleted");F(this,"_numSkipped");F(this,"_numRemaining");this._analytics=new is,this._video=new ss(this._analytics),this._captions=e,this._currentIdx=0,this._prevIdx=this.currentIdx,this._navigationListeners=[],this._advancedMode=!1,this._uncertaintyThreshold=.7,this._numCompleted=0,this._numSkipped=0,this._numRemaining=0,this.calculateProgress()}get video(){return this._video}get captions(){return this._captions}get currentIdx(){return this._currentIdx}get prevIdx(){return this._prevIdx}get currentCaption(){return this._captions[this._currentIdx]}get completedCaptions(){return this._numCompleted}get remainingCaptions(){return this._numRemaining}get skippedCaptions(){return this._numSkipped}next(){if(this._currentIdx<this._captions.length-1){for(this._analytics.finishEdit(this._currentIdx,this._captions[this._currentIdx]),this._captions[this._currentIdx].edited=!0,this._prevIdx=this.currentIdx;this._currentIdx<this._captions.length-1&&(this._currentIdx+=1,!(this._advancedMode||this._captions[this._currentIdx].score<this._uncertaintyThreshold)););this._numCompleted+=1,this._numSkipped+=this._currentIdx-this._prevIdx-1,this._numRemaining-=1,this.invokeListeners(),this._analytics.startEdit(this._currentIdx,this._captions[this._currentIdx])}else this._analytics.download()}previous(){if(this._currentIdx>0){for(this._analytics.finishEdit(this._currentIdx,this._captions[this._currentIdx]),this._prevIdx=this.currentIdx;this._currentIdx>0&&(this._currentIdx-=1,!(this._advancedMode||this._captions[this._currentIdx].score<this._uncertaintyThreshold)););this._numCompleted-=1,this._numSkipped-=this._prevIdx-this._currentIdx-1,this._numRemaining+=1,this.invokeListeners(),this._analytics.startEdit(this._currentIdx,this._captions[this._currentIdx])}}addNavigationListener(e){this._navigationListeners.push(e)}setCaption(e,i){this._captions[i]=e}setAdvancedMode(e){e!==this._advancedMode&&(this._advancedMode=e,this._currentIdx=0,this.calculateProgress(),this.invokeListeners())}setUncertaintyThreshold(e){e!==this._uncertaintyThreshold&&(this._uncertaintyThreshold=e,this._currentIdx=0,this.calculateProgress(),this.invokeListeners())}calculateProgress(){this._numCompleted=0,this._numSkipped=0,this._numRemaining=0;let e=this._currentIdx;for(;e<this._captions.length;)(this._advancedMode||this._captions[e].score<this._uncertaintyThreshold)&&(this._numRemaining+=1),e+=1}invokeListeners(){for(const e of this._navigationListeners)e(this._currentIdx,this.prevIdx)}}export{fs as C,hs as E,cs as S,ds as a,Bt as b,us as c,os as g};
